# 3주차
> p254 강의 29 ~ p288 강의 33

---
## 강의 29. 엔터프라이즈 vs 웹 서비스 
### 엔터프라이즈와 웹 서비스
+ 웹서비스는 엔터프라이즈에 비해 트래픽이 굉장히 많고, 성장성이 폭발적이며, 높은 신뢰성이 요구되지 않는다
+ 트랜잭션은 그다지 많이 사용하지 않는다.
### 웹 서비스의 인프라
+ 저비용 고효율, 희생해야 하는 상관관계(trade-off) 고려
+ 확장성을 고려한 응답성에 기술적 초점을 둘 것
+ 개발속도를 고려해서 유연하게 리소스를 제공할 수 있도록 한다.
    + 배포한 코드에 문제가 발견됐을 때는 곧바로 이전 상태로 돌아갈 수 있도록 대처

---
## 강의 30. 클라우드 vs. 자체구축 인프라
### 클라우드
+ 확장성
+ 세부적인 알고리즘 사양을 알 수 없고 때때로 알 수 없는 원인의 멈춤이 발생한다.
  + 병목이나 지연이 발생하는 지점을 알 수 없고, 직접 해결이 불가능하다.
### 자체 구축 인프라
+ 하드웨어 구성을 유연하게 할 수 있다.
+ 서비스로부터의 요청에 유연하게 대응할 수 있다.
+ 병목현상을 제어할 수 있다.
### 수직통합 모델과 수평통합 모델

---
## 강의 31. 계층과 확장성
### 확장성에 대한 요구
+ 서버 한 대의 성능 대비 서비스에서 필요로 하는 트래픽 양을 고려해야 한다.
+ AP 서버는 대수를 확장하고 로드밸런서에 연결
+ DB나 파일 서버는 분산, 확장성 확보가 어렵다.

---
## 강의 32. 부하 파악, 튜닝
### 부하 파악
+ Load Average
  + 준비는 되어 있지만 할당되지 않은 대기 상태의 프로세스 수의 평균치
### 용도에 맞는 튜닝
+ 응답시간을 중시할 것인지 or 리소스를 최대한 사용할 것인지 고려
  + 크롤러와 같은 봇으로 온 요청은 봇용 서버가, 클라이언트 요청을 관리하는 서버와 분리
+ 비정상적 가동을 하는 서버를 파악
  + 부하를 가시화해서 병목이나 이상현상을 파악할 수 있도록 한다.

---
## 강의 33. 다중성 확보
+ SPOF, 단일 장애점의 제거로 가동률을 높인다.
### AP서버에의 다중성 확보
+ 로드밸런서의 페일오버
### DB서버에서의 다중성 확보
+ 멀티 마스터
  + 상호간 레플리케이션, 서로의 슬레이브가 되는 형태
  + VRRP(Virtual Router Redundancy Procotol)로 Active/Standby 상태를 전환
### 스토리지 서버에서의 다중성 확보
+ 하테나 이미지, 미디어 파일을 관리하는 MogileFS
  
  

